<div class="table-responsive border rounded p-1">
  <table class="table table-hover" id="table-content">
    <thead>
    <tr>
      <th class="font-weight-bold">No</th>
      <th class="font-weight-bold"><%= sort_link(@q, :month, 'month',{}, {remote: true, class: 'ajax-request'}) %></th>
      <th class="font-weight-bold"><%= sort_link(@q, :year, 'year',{}, {remote: true, class: 'ajax-request'}) %></th>
      <th class="font-weight-bold"><%= sort_link(@q, :cash_in, 'cash in',{}, {remote: true, class: 'ajax-request'}) %></th>
      <th class="font-weight-bold"><%= sort_link(@q, :cash_out, 'cash out',{}, {remote: true, class: 'ajax-request'}) %></th>
      <th class="font-weight-bold"><%= sort_link(@q, :total, 'total',{}, {remote: true, class: 'ajax-request'}) %></th>
      <th class="font-weight-bold">Action</th>
    </tr>
    </thead>
    <tbody>
    <% @cash_flows.each_with_index do |cf, i| %>
      <tr>
        <td><%= (i + 1) %> </td>
        <td><%= UserContribution::MONTHNAMES.invert[cf.month] %></td>
        <td><%= cf.year %></td>
        <td style="font-weight:bolder;"><%= number_to_currency(cf.cash_in, unit: "Rp. ", separator: ",", delimiter: ".") %></td>
        <td style="font-weight:bolder;"><%= number_to_currency(cf.cash_out, unit: "Rp. ", separator: ",", delimiter: ".") %></td>
        <td style="font-weight:bolder;color:<%= cf.total < 0 ? 'red' : 'black'%>"><%= number_to_currency(cf.total, unit: "Rp. ", separator: ",", delimiter: ".") %></td>
        <td>
          <%= link_to 'Lihat', cf, class: 'btn-sm btn-success' %>
          <%= link_to 'Ubah', edit_cash_flow_path(cf), class: 'btn-sm btn-info'  if current_user.is_admin? %>
          <%#= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn-sm btn-danger'%>
        </td>
      </tr>
    <% end %>
    <tr>
      <td align="right" colspan="3"><b>TOTAL</b></td>
      <td><b><%= number_to_currency(@total_cash_in, unit: "Rp. ", separator: ",", delimiter: ".") %></b></td>
      <td><b><%= number_to_currency(@total_cash_out, unit: "Rp. ", separator: ",", delimiter: ".")%></b></td>
      <td><b><%= number_to_currency(@grand_total, unit: "Rp. ", separator: ",", delimiter: ".")  %></b></td>
      <td></td>
    </tr>
    </tbody>
  </table>
</div>